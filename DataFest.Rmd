---
title: "DataFest"
author: "Albert Sun and Ben Wallace"
date: "4/9/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r upload packages, results = "hide"}
library(dplyr)
library(ggplot2)
library(patchwork)
library(janitor)
```

```{r read files}
counties <- read.csv("datafiles/us-counties.csv")
states <- read.csv("datafiles/us-states.csv")
measures <- read.csv("datafiles/statedata.csv")
```

```{r}
measures <- measures %>% 
  select("Location") %>%
  clean_names()
```

```{r}
counties %>%
  filter(county=="Tarrant") %>%
  ggplot(mapping = aes(x = date, y = cases)) + 
  geom_point()
```


```{r topten}
toptencounties <- counties %>%
  filter(date == "2020-04-08") %>%
  arrange(desc(cases))
  
toptencounties <- toptencounties[1:10,]

toptenstates <- states %>%
  filter(date == "2020-04-08") %>%
  arrange(desc(cases))

toptenstates <- toptenstates[1:10,]
```


```{r plot}
p1 <- ggplot(data = toptencounties, mapping = aes(x = reorder(county, cases), y = cases)) +
  geom_bar(stat = "identity") + 
  labs(title = "Top 10 Coronavirus counties cases", 
       y = "Deaths", x = "County Name") + 
  coord_flip()

p2 <- ggplot(data = toptenstates, mapping = aes(x = reorder(state, cases), y = cases)) +
  geom_bar(stat = "identity") + 
  labs(title = "Top 10 Coronavirus states cases", 
       y = "Deaths", x = "State Name") + 
  coord_flip() 

p1 + p2
```


